"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[5846],{14900:function(L,k,e){e.d(k,{n:function(){return b}});var v=e(78069),f=e(48047),t=e(76442),C=e(36362);function y(a,m){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"b",6),t._uU(2,"Created By:"),t.qZA(),t._uU(3),t.qZA()),2&a){var r=t.oxw(2);t.xp6(3),t.hij(" ",r.source.createdBy," ")}}function O(a,m){if(1&a&&(t.TgZ(0,"div",7),t.TgZ(1,"b",6),t._uU(2,"on"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&a){var r=t.oxw(2);t.xp6(3),t.hij(" ",t.xi3(4,1,r.source.created,"medium"),"")}}function g(a,m){1&a&&(t.TgZ(0,"div",8),t.TgZ(1,"b"),t._uU(2,"-"),t.qZA(),t.qZA())}function h(a,m){if(1&a&&(t.TgZ(0,"div",5),t.TgZ(1,"b",6),t._uU(2,"Last Edited By"),t.qZA(),t._uU(3),t.qZA()),2&a){var r=t.oxw(2);t.xp6(3),t.hij(": ",r.source.lastEditedBy," ")}}function T(a,m){if(1&a&&(t.TgZ(0,"div",7),t.TgZ(1,"b",6),t._uU(2,"on"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&a){var r=t.oxw(2);t.xp6(3),t.hij(" ",t.xi3(4,1,r.source.lastEdited,"medium"),"")}}function Z(a,m){if(1&a&&(t.TgZ(0,"div",1),t.YNc(1,y,4,1,"div",2),t.YNc(2,O,5,4,"div",3),t.YNc(3,g,3,0,"div",4),t.YNc(4,h,4,1,"div",2),t.YNc(5,T,5,4,"div",3),t.qZA()),2&a){var r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.source.createdBy),t.xp6(1),t.Q6J("ngIf",r.source.created),t.xp6(1),t.Q6J("ngIf",r.source.created&&r.source.lastEdited),t.xp6(1),t.Q6J("ngIf",r.source.lastEditedBy),t.xp6(1),t.Q6J("ngIf",r.source.lastEdited)}}var b=function(){var a=function(){function m(){(0,v.Z)(this,m)}return(0,f.Z)(m,[{key:"ngOnInit",value:function(){}}]),m}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-audit-info"]],inputs:{source:"source"},decls:1,vars:1,consts:[["class","audit-container",4,"ngIf"],[1,"audit-container"],["class","name",4,"ngIf"],["class","date",4,"ngIf"],["class","spacer",4,"ngIf"],[1,"name"],[1,"static"],[1,"date"],[1,"spacer"]],template:function(r,x){1&r&&t.YNc(0,Z,6,5,"div",0),2&r&&t.Q6J("ngIf",x.source)},directives:[C.O5],pipes:[C.uU],styles:[".audit-container[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:start;align-items:flex-start;padding-left:15px;font-family:Roboto,Helvetica Neue,sans-serif;padding-top:10px;padding-bottom:2px}.spacer[_ngcontent-%COMP%]{padding-left:5px;padding-right:10px}.static[_ngcontent-%COMP%]{padding-right:3px}.name[_ngcontent-%COMP%], .date[_ngcontent-%COMP%]{padding-right:5px}"]}),a}()},65846:function(L,k,e){e.r(k),e.d(k,{SubstanceFormOtherLinksModule:function(){return W}});var v=e(48047),f=e(78069),t=e(36362),C=e(75143),y=e(7168),O=e(19975),g=e(65590),h=e(87317),T=e(94673),Z=e(44770),b=e(90587),a=e(26439),m=e(43365),r=e(40089),x=e(31959),A=e(24582),I=e(7318),S=e(79550),_=e(40104),F=e(71896),n=e(76442),M=e(78444),P=e(51279),D=(e(27299),e(63169)),U=e(18291),E=e(39401),J=e(33567),N=e(95758),Y=e(66088),Q=e(16667),j=e(14900);function B(s,d){if(1&s){var o=n.EpF();n.TgZ(0,"div",13),n._uU(1," Deleted\xa0 "),n.TgZ(2,"button",14),n.NdJ("click",function(){return n.CHM(o),n.oxw().undoDelete()}),n._UZ(3,"mat-icon",15),n.qZA(),n.qZA()}}var R=function(){var s=function(){function d(o,i,c,l,p){(0,f.Z)(this,d),this.cvService=o,this.dialog=i,this.utilsService=c,this.overlayContainerService=l,this.substanceFormService=p,this.linkDeleted=new n.vpe,this.subscriptions=[]}return(0,v.Z)(d,[{key:"ngOnInit",value:function(){this.getVocabularies(),this.overlayContainer=this.overlayContainerService.getContainerElement(),this.updateDisplay()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(i){i.unsubscribe()})}},{key:"link",get:function(){return this.privateLink},set:function(i){this.privateLink=i}},{key:"updateDisplay",value:function(){this.siteDisplay=this.substanceFormService.siteString(this.privateLink.sites)}},{key:"deleteLink",value:function(){var i=this;this.privateLink.$$deletedCode=this.utilsService.newUUID(),this.deleteTimer=setTimeout(function(){i.linkDeleted.emit(i.link),i.substanceFormService.emitOtherLinkUpdate()},2e3)}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateLink.$$deletedCode}},{key:"getVocabularies",value:function(){var i=this,c=this.cvService.getDomainVocabulary("OTHER_LINKAGE_TYPE").subscribe(function(l){i.linkageTypes=l.OTHER_LINKAGE_TYPE.list});this.subscriptions.push(c)}},{key:"openDialog",value:function(){var i=this,c=this.dialog.open(E.r,{data:{card:"other",link:this.privateLink.sites},width:"1040px",panelClass:"subunit-dialog"});this.overlayContainer.style.zIndex="1002";var l=c.afterClosed().subscribe(function(u){i.overlayContainer.style.zIndex=null,u&&(i.privateLink.sites=u,i.substanceFormService.emitOtherLinkUpdate()),i.updateDisplay()});c.backdropClick().subscribe(function(u){}).unsubscribe(),this.subscriptions.push(l)}}]),d}();return s.\u0275fac=function(o){return new(o||s)(n.Y36(U.I),n.Y36(N.uw),n.Y36(D.FW),n.Y36(Y.Xj),n.Y36(J.B))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-other-links-form"]],inputs:{link:"link"},outputs:{linkDeleted:"linkDeleted"},decls:15,vars:4,consts:[[1,"link-form-container"],["class","notification-backdrop",4,"ngIf"],[1,"form-row"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete link",3,"click"],["svgIcon","delete_forever"],[1,"type"],["domain","OTHER_LINKAGE_TYPE","title","Sequence Type",3,"model","valueChange"],[1,"links"],[1,"label"],["mat-icon-button","","matTooltip","Select sites from display",3,"click"],["svgIcon","edit"],[3,"source"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0),n.YNc(1,B,4,0,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"button",4),n.NdJ("click",function(){return i.deleteLink()}),n._UZ(5,"mat-icon",5),n.qZA(),n.qZA(),n.TgZ(6,"div",6),n.TgZ(7,"app-cv-input",7),n.NdJ("valueChange",function(l){return i.link.linkageType=l}),n.qZA(),n.qZA(),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n._uU(10,"link"),n.qZA(),n._uU(11),n.TgZ(12,"button",10),n.NdJ("click",function(){return i.openDialog()}),n._UZ(13,"mat-icon",11),n.qZA(),n.qZA(),n.qZA(),n._UZ(14,"app-audit-info",12),n.qZA()),2&o&&(n.xp6(1),n.Q6J("ngIf",i.link.$$deletedCode),n.xp6(6),n.Q6J("model",i.link.linkageType),n.xp6(4),n.hij(" ",i.siteDisplay," "),n.xp6(3),n.Q6J("source",i.link))},directives:[t.O5,h.lW,r.gM,g.Hw,Q.S,j.n],styles:[".link-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;z-index:10;background-color:#fffc;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:#666}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{width:40%}.selectedSite[_ngcontent-%COMP%]{padding-left:2px;padding-right:2px}"]}),s}();function V(s,d){1&s&&n._UZ(0,"mat-divider",8),2&s&&n.Q6J("inset",!0)}function H(s,d){if(1&s){var o=n.EpF();n.TgZ(0,"div",5),n.TgZ(1,"app-other-links-form",6),n.NdJ("linkDeleted",function(u){return n.CHM(o),n.oxw().deleteLink(u)}),n.qZA(),n.YNc(2,V,1,1,"mat-divider",7),n.qZA()}if(2&s){var i=d.$implicit,c=d.last;n.Q6J("id","substance-other-links-"+d.index),n.xp6(1),n.Q6J("link",i),n.xp6(1),n.Q6J("ngIf",!c)}}var $=function(){var s=function(d){(0,A.Z)(i,d);var o=(0,I.Z)(i);function i(c,l,p){var u;return(0,f.Z)(this,i),(u=o.call(this,p)).substanceFormOtherLinksService=c,u.scrollToService=l,u.gaService=p,u.subscriptions=[],u.analyticsEventCategory="substance form otherLinks",u}return(0,v.Z)(i,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Other Links")}},{key:"ngAfterViewInit",value:function(){var l=this,p=this.substanceFormOtherLinksService.substanceOtherLinks.subscribe(function(u){l.otherLinks=u});this.subscriptions.push(p)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(l){l.unsubscribe()})}},{key:"addItem",value:function(){this.addOtherLink()}},{key:"addOtherLink",value:function(){var l=this;this.substanceFormOtherLinksService.addSubstanceOtherLink(),setTimeout(function(){l.scrollToService.scrollToElement("substance-other-links-0","center")})}},{key:"deleteLink",value:function(l){this.substanceFormOtherLinksService.deleteSubstanceOtherLink(l)}}]),i}(S.u);return s.\u0275fac=function(o){return new(o||s)(n.Y36(F.X),n.Y36(M.i),n.Y36(_.$))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-substance-form-other-links-card"]],features:[n.qOj],decls:8,vars:1,consts:[[1,"flex-row"],[1,"middle-fill"],["class","alternate-backgrounds","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"],["appScrollToTarget","",1,"alternate-backgrounds",3,"id"],[3,"link","linkDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0),n._UZ(1,"span",1),n.qZA(),n.YNc(2,H,3,3,"div",2),n.TgZ(3,"div",0),n._UZ(4,"span",1),n.TgZ(5,"button",3),n.NdJ("click",function(){return i.addOtherLink()}),n._uU(6," Add link "),n._UZ(7,"mat-icon",4),n.qZA(),n.qZA()),2&o&&(n.xp6(2),n.Q6J("ngForOf",i.otherLinks))},directives:[t.sg,P.P,R,t.O5,O.d,h.lW,g.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:#0000001f}.code[_ngcontent-%COMP%]:nth-child(odd){background-color:#448aff12}.code[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#448aff26}.code[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#80808026}.code[_ngcontent-%COMP%]     .mat-expansion-panel, .code[_ngcontent-%COMP%]     .mat-table, .code[_ngcontent-%COMP%]     textarea{background-color:transparent}"]}),s}(),K=e(91434),W=(e(64061),function(){var s=(0,v.Z)(function d(){(0,f.Z)(this,d)});return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[t.ez,C.o0.forChild($),y.O,O.t,g.Ps,h.ot,T.w,Z.lN,b.UX,b.u5,a.TU,r.AV,x.vV,m.c,K.LD]]}),s}())}}]);
//# sourceMappingURL=5846.90718ce47cea90b6.js.map