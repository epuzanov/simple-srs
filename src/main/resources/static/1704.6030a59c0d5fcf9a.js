"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[1704],{33662:function(L,A,s){s.d(A,{f:function(){return S}});var b=s(78069),Z=s(48047),C=s(42827),h=s(90587),e=s(76442),F=s(84577),x=s(36362),O=s(44770),t=s(91434),I=s(1130),M=s(43365);function y(m,g){if(1&m&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&m){var i=g.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.display," ")}}function _(m,g){if(1&m&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&m){var i=e.oxw(2);e.s9C("value",i.privateSubstanceAmount.type),e.xp6(1),e.hij("",i.privateSubstanceAmount.type," (not in CV)")}}function T(m,g){if(1&m){var i=e.EpF();e.TgZ(0,"div",27),e.TgZ(1,"input",28),e.NdJ("focusout",function(u){return e.CHM(i),e.oxw(2).updateType(u.target)}),e.qZA(),e.qZA()}}function w(m,g){if(1&m&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&m){var i=g.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.display," ")}}function R(m,g){if(1&m&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&m){var i=e.oxw(2);e.s9C("value",i.privateSubstanceAmount.units),e.xp6(1),e.hij("",i.privateSubstanceAmount.units," (not in CV)")}}function U(m,g){if(1&m){var i=e.EpF();e.TgZ(0,"div",27),e.TgZ(1,"input",28),e.NdJ("focusout",function(u){return e.CHM(i),e.oxw(2).updateUnits(u.target)}),e.qZA(),e.qZA()}}function J(m,g){if(1&m&&(e.TgZ(0,"form",3),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e.TgZ(3,"div"),e.TgZ(4,"mat-form-field",6),e.TgZ(5,"mat-label"),e._uU(6,"Type *"),e.qZA(),e.TgZ(7,"mat-select",7),e.TgZ(8,"mat-option",8),e.TgZ(9,"span",9),e._uU(10,"Clear selection"),e.qZA(),e.qZA(),e.YNc(11,y,2,2,"mat-option",10),e.YNc(12,_,2,2,"mat-option",11),e.TgZ(13,"mat-option",12),e._uU(14,"Other (New Value)"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,T,2,0,"div",13),e.qZA(),e.TgZ(16,"mat-form-field",14),e._UZ(17,"input",15),e.qZA(),e.TgZ(18,"mat-form-field",16),e._UZ(19,"input",17),e.qZA(),e.TgZ(20,"mat-form-field",18),e._UZ(21,"input",19),e.qZA(),e.qZA(),e.TgZ(22,"div",4),e.TgZ(23,"mat-form-field",20),e._UZ(24,"input",21),e.qZA(),e.TgZ(25,"mat-form-field",22),e._UZ(26,"input",23),e.qZA(),e.TgZ(27,"div",5),e.TgZ(28,"div"),e.TgZ(29,"mat-form-field",24),e.TgZ(30,"mat-label"),e._uU(31,"Units"),e.qZA(),e.TgZ(32,"mat-select",7),e.TgZ(33,"mat-option",8),e.TgZ(34,"span",9),e._uU(35,"Clear selection"),e.qZA(),e.qZA(),e.YNc(36,w,2,2,"mat-option",10),e.YNc(37,R,2,2,"mat-option",11),e.TgZ(38,"mat-option",12),e._uU(39,"Other (New Value)"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(40,U,2,0,"div",13),e.qZA(),e.TgZ(41,"mat-form-field",25),e._UZ(42,"input",26),e.qZA(),e.qZA(),e.qZA()),2&m){var i=e.oxw();e.xp6(7),e.Q6J("formControl",i.typeControl),e.xp6(1),e.Q6J("value",null),e.xp6(3),e.Q6J("ngForOf",i.amountTypeList),e.xp6(1),e.Q6J("ngIf",i.privateSubstanceAmount.type&&!i.inCV(i.amountTypeList,i.privateSubstanceAmount.type)&&""!==i.privateSubstanceAmount.type),e.xp6(3),e.Q6J("ngIf","other"===i.privateSubstanceAmount.type),e.xp6(2),e.Q6J("formControl",i.averageControl),e.xp6(2),e.Q6J("formControl",i.lowControl),e.xp6(2),e.Q6J("formControl",i.highControl),e.xp6(3),e.Q6J("formControl",i.lowLimitControl),e.xp6(2),e.Q6J("formControl",i.highLimitControl),e.xp6(6),e.Q6J("formControl",i.unitsControl),e.xp6(1),e.Q6J("value",null),e.xp6(3),e.Q6J("ngForOf",i.amountUnitList),e.xp6(1),e.Q6J("ngIf",i.privateSubstanceAmount.units&&!i.inCV(i.amountUnitList,i.privateSubstanceAmount.units)&&""!==i.privateSubstanceAmount.units),e.xp6(3),e.Q6J("ngIf","other"===i.privateSubstanceAmount.units),e.xp6(2),e.Q6J("formControl",i.nonNumericValueControl)}}var S=function(){var m=function(){function g(i){(0,b.Z)(this,g),this.cvService=i,this.amountTypeList=[],this.amountUnitList=[],this.typeControl=new h.NI("",h.kI.required),this.averageControl=new h.NI(""),this.lowControl=new h.NI(""),this.highControl=new h.NI(""),this.lowLimitControl=new h.NI(""),this.highLimitControl=new h.NI(""),this.unitsControl=new h.NI(""),this.nonNumericValueControl=new h.NI("")}return(0,Z.Z)(g,[{key:"ngOnInit",value:function(){this.getVocabularies()}},{key:"substanceAmount",get:function(){return this.privateSubstanceAmount},set:function(d){var u=this;null!=d&&(this.privateSubstanceAmount=d,this.typeControl.setValue(this.privateSubstanceAmount.type),this.typeControl.valueChanges.subscribe(function(r){u.privateSubstanceAmount.type=r}),this.averageControl.setValue(this.privateSubstanceAmount.average),this.averageControl.valueChanges.subscribe(function(r){(null===r||1===r.length&&r.match(/[a-z]/i))&&u.averageControl.setValue(""),u.privateSubstanceAmount.average=r}),this.lowControl.setValue(this.privateSubstanceAmount.low),this.lowControl.valueChanges.subscribe(function(r){(null===r||1===r.length&&r.match(/[a-z]/i))&&u.lowControl.setValue(""),u.privateSubstanceAmount.low=r}),this.highControl.setValue(this.privateSubstanceAmount.high),this.highControl.valueChanges.subscribe(function(r){(null===r||1===r.length&&r.match(/[a-z]/i))&&u.highControl.setValue(""),u.privateSubstanceAmount.high=r}),this.lowLimitControl.setValue(this.privateSubstanceAmount.lowLimit),this.lowLimitControl.valueChanges.subscribe(function(r){(null===r||1===r.length&&r.match(/[a-z]/i))&&u.lowLimitControl.setValue(""),u.privateSubstanceAmount.lowLimit=r}),this.highLimitControl.setValue(this.privateSubstanceAmount.highLimit),this.highLimitControl.valueChanges.subscribe(function(r){(null===r||1===r.length&&r.match(/[a-z]/i))&&u.highLimitControl.setValue(""),u.privateSubstanceAmount.highLimit=r}),this.unitsControl.setValue(this.privateSubstanceAmount.units),this.unitsControl.valueChanges.subscribe(function(r){u.privateSubstanceAmount.units=r}),this.nonNumericValueControl.setValue(this.privateSubstanceAmount.nonNumericValue),this.nonNumericValueControl.valueChanges.subscribe(function(r){u.privateSubstanceAmount.nonNumericValue=r}))}},{key:"updateAccess",value:function(d){this.privateSubstanceAmount.access=d,this.substanceAmount.access=d}},{key:"updateType",value:function(d){var u=this;setTimeout(function(){u.typeControl.setValue(d.value)}),this.privateSubstanceAmount.type=d.value}},{key:"updateUnits",value:function(d){var u=this;setTimeout(function(){u.unitsControl.setValue(d.value)}),this.privateSubstanceAmount.units=d.value}},{key:"getVocabularies",value:function(){var d=this;this.cvService.getDomainVocabulary("AMOUNT_TYPE","AMOUNT_UNIT").subscribe(function(u){d.amountTypeList=u.AMOUNT_TYPE.list,d.amountUnitList=u.AMOUNT_UNIT.list})}},{key:"inCV",value:function(d,u){return d.some(function(r){return u===r.value})}}]),g}();return m.\u0275fac=function(i){return new(i||m)(e.Y36(C.I))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-amount-form"]],inputs:{substanceAmount:"substanceAmount"},decls:3,vars:2,consts:[[1,"access"],[1,"right",3,"access","accessOut"],["class","amount-form",4,"ngIf"],[1,"amount-form"],[1,"form-row"],[1,"other-container"],[1,"amount-type"],[3,"formControl"],[3,"value"],[1,"deselect"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["value","other"],["class","custom",4,"ngIf"],[1,"amount-average"],["type","number","matInput","","placeholder","Average",3,"formControl"],[1,"low"],["type","number","matInput","","placeholder","Low",3,"formControl"],[1,"high"],["type","number","matInput","","placeholder","High",3,"formControl"],[1,"low-limit"],["type","number","matInput","","placeholder","Low Limit",3,"formControl"],[1,"high-limit"],["type","number","matInput","","placeholder","High Limit",3,"formControl"],[1,"amount-units"],[1,"non-numeric-value"],["matInput","","placeholder","Non-numeric Value",3,"formControl"],[1,"custom"],["matInput","","placeholder","Custom value","name","custom",3,"focusout"]],template:function(i,d){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"app-access-manager",1),e.NdJ("accessOut",function(r){return d.updateAccess(r)}),e.qZA(),e.qZA(),e.YNc(2,J,43,16,"form",2)),2&i&&(e.xp6(1),e.Q6J("access",d.substanceAmount.access),e.xp6(1),e.Q6J("ngIf",d.substanceAmount))},directives:[F.h,x.O5,h._Y,h.JL,h.F,O.KE,O.hX,t.gD,h.JJ,h.oH,I.ey,x.sg,M.Nt,h.wV,h.Fj],styles:[".form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .amount-type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount-average[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount-units[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .non-numeric-value[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .amount-type[_ngcontent-%COMP%]{width:125px}.form-row[_ngcontent-%COMP%]   .amount-units[_ngcontent-%COMP%]{width:110px}.form-row[_ngcontent-%COMP%]   .amount-average[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high-limit[_ngcontent-%COMP%]{width:70px}.form-row[_ngcontent-%COMP%]   .non-numeric-value[_ngcontent-%COMP%]{width:90px}.form-row[_ngcontent-%COMP%]   .jurisdiction[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.risen[_ngcontent-%COMP%]{margin-top:-15px}.deselect[_ngcontent-%COMP%]{color:#00000080}.other-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.custom[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.35)}.amount-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}.right[_ngcontent-%COMP%]{float:right}"]}),m}()},51704:function(L,A,s){s.r(A),s.d(A,{SubstanceFormRelationshipsModule:function(){return rt}});var b=s(48047),Z=s(78069),C=s(36362),h=s(24582),e=s(7318),F=s(79550),x=s(24874),O=s(96238),t=s(76442),I=s(78444),M=s(44770),y=s(43365),_=s(90587),T=s(87317),w=s(26439),R=s(51279),U=s(42827),J=s(52149),S=s(40089),m=s(65590),g=s(24459),i=s(16667),d=s(84577),u=s(33662),r=s(48302),D=s(14900);function V(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"div",21),t._uU(1," Deleted\xa0 "),t.TgZ(2,"button",22),t.NdJ("click",function(){return t.CHM(a),t.oxw().undoDelete()}),t._UZ(3,"mat-icon",23),t.qZA(),t.qZA()}}function q(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"app-cv-input",24),t.NdJ("valueChange",function(l){return t.CHM(a),t.oxw().relationship.qualification=l}),t.qZA(),t.TgZ(2,"app-cv-input",25),t.NdJ("valueChange",function(l){return t.CHM(a),t.oxw().relationship.interactionType=l}),t.qZA(),t.qZA()}if(2&o){var n=t.oxw();t.xp6(1),t.Q6J("model",n.relationship.qualification),t.xp6(1),t.Q6J("model",n.relationship.interactionType)}}function Y(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",26),t.TgZ(2,"div",27),t._uU(3,"Comments"),t.qZA(),t.TgZ(4,"textarea",28),t.NdJ("ngModelChange",function(l){return t.CHM(a),t.oxw().relationship.comments=l}),t._uU(5,"        "),t.qZA(),t.qZA(),t.qZA()}if(2&o){var n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.relationship.comments)}}function k(o,c){1&o&&t._UZ(0,"mat-icon",29)}function z(o,c){1&o&&t._UZ(0,"mat-icon",30)}function j(o,c){if(1&o&&(t.TgZ(0,"div",9),t.TgZ(1,"div",35),t._UZ(2,"app-domain-references",36,37),t.qZA(),t.qZA()),2&o){var a=t.oxw(2);t.xp6(2),t.Q6J("referencesUuids",a.relationship.references)}}function H(o,c){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"div",31),t.TgZ(2,"div",32),t._uU(3,"Amount"),t.qZA(),t._UZ(4,"app-amount-form",33),t.qZA(),t.YNc(5,j,4,1,"div",13),t.TgZ(6,"div",9),t._UZ(7,"app-audit-info",34),t.qZA(),t.qZA()),2&o){var a=t.oxw();t.xp6(4),t.Q6J("substanceAmount",a.relationship.amount),t.xp6(1),t.Q6J("ngIf",a.viewFull),t.xp6(2),t.Q6J("source",a.relationship)}}var B=function(){var o=function(){function c(a,n){(0,Z.Z)(this,c),this.cvService=a,this.utilsService=n,this.relationshipDeleted=new t.vpe,this.viewFull=!0}return(0,b.Z)(c,[{key:"ngOnInit",value:function(){}},{key:"show",get:function(){return this.viewFull||null},set:function(n){null!=n&&(this.viewFull=n)}},{key:"relationship",get:function(){return this.privateRelationship},set:function(n){this.privateRelationship=n,null==this.privateRelationship.amount&&(this.privateRelationship.amount={}),this.relatedSubstanceUuid=this.privateRelationship.relatedSubstance&&this.privateRelationship.relatedSubstance.refuuid||"",this.mediatorSubstanceUuid=this.privateRelationship.mediatorSubstance&&this.privateRelationship.mediatorSubstance.refuuid||""}},{key:"deleteRelationship",value:function(){var n=this;this.privateRelationship.$$deletedCode=this.utilsService.newUUID(),(!this.privateRelationship.relatedSubstance||!this.privateRelationship.relatedSubstance.refuuid)&&!this.privateRelationship.type&&(this.deleteTimer=setTimeout(function(){n.relationshipDeleted.emit(n.relationship)},2e3))}},{key:"undoDelete",value:function(){clearTimeout(this.deleteTimer),delete this.privateRelationship.$$deletedCode}},{key:"updateAccess",value:function(n){this.relationship.access=n}},{key:"relatedSubstanceUpdated",value:function(n){this.relationship.relatedSubstance=null!==n?{refPname:n._name,name:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID}:{}}},{key:"mediatorSubstanceUpdated",value:function(n){this.relationship.mediatorSubstance=null!==n?{refPname:n._name,refuuid:n.uuid,substanceClass:"reference",approvalID:n.approvalID}:{}}}]),c}();return o.\u0275fac=function(a){return new(a||o)(t.Y36(U.I),t.Y36(J.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-relationship-form"]],inputs:{show:"show",relationship:"relationship"},outputs:{relationshipDeleted:"relationshipDeleted"},decls:22,vars:12,consts:[[1,"relationship-form-container"],["class","notification-backdrop",4,"ngIf"],[1,"flex-column","delete-column"],[1,"delete-container"],["mat-icon-button","","matTooltip","Delete relationship",3,"click"],["svgIcon","delete_forever"],[1,"flex-column","related-substance"],["eventCategory","substanceRelationshipRelatedSub","placeholder","Related Substance","header","Related Substance",3,"hideImage","subuuid","selectionUpdated"],[1,"flex-column","form-content"],[1,"form-row"],["required","true","domain","RELATIONSHIP_TYPE","title","Type","name","type",1,"type",3,"model","valueChange"],[3,"access","accessOut"],["class","form-row ",4,"ngIf"],["class","form-row",4,"ngIf"],[1,"flex-column","mediator-substance"],["eventCategory","substanceFormDefinitionType","placeholder","Mediator Substance","header","Mediator Substance",3,"hideImage","subuuid","selectionUpdated"],["matTooltip","Expand / collapse rows",1,"chevron"],["mat-icon-button","",1,"chevron-button",3,"click"],["svgIcon","chevron_up",4,"ngIf"],["svgIcon","chevron_down",4,"ngIf"],[4,"ngIf"],[1,"notification-backdrop"],["mat-icon-button","","matTooltip","Undo",3,"click"],["svgIcon","undo"],["key","Relationship Qualification","title","Qualification","name","Qualification",1,"qualification",3,"model","valueChange"],["key","Relationship Interaction Type","title","Interaction Type","name","Interaction Type",1,"interaction-type",3,"model","valueChange"],[1,"comments"],[1,"textarea-label"],["placeholder","Enter text here","name","comments",3,"ngModel","ngModelChange"],["svgIcon","chevron_up"],["svgIcon","chevron_down"],[1,"amount-form-container"],[1,"amount-title"],[3,"substanceAmount"],[3,"source"],[1,"references-container"],[3,"referencesUuids"],["references",""]],template:function(a,n){1&a&&(t.TgZ(0,"div",0),t.YNc(1,V,4,0,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return n.deleteRelationship()}),t._UZ(5,"mat-icon",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"app-substance-selector",7),t.NdJ("selectionUpdated",function(l){return n.relatedSubstanceUpdated(l)}),t.qZA(),t.qZA(),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"app-cv-input",10),t.NdJ("valueChange",function(l){return n.relationship.type=l}),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"app-access-manager",11),t.NdJ("accessOut",function(l){return n.updateAccess(l)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,q,3,2,"div",12),t.YNc(14,Y,6,1,"div",13),t.qZA(),t.TgZ(15,"div",14),t.TgZ(16,"app-substance-selector",15),t.NdJ("selectionUpdated",function(l){return n.mediatorSubstanceUpdated(l)}),t.qZA(),t.qZA(),t.TgZ(17,"div",16),t.TgZ(18,"button",17),t.NdJ("click",function(){return n.viewFull=!n.viewFull}),t.YNc(19,k,1,0,"mat-icon",18),t.YNc(20,z,1,0,"mat-icon",19),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,H,8,3,"div",20)),2&a&&(t.xp6(1),t.Q6J("ngIf",n.relationship.$$deletedCode),t.xp6(6),t.Q6J("hideImage",!n.viewFull)("subuuid",n.relatedSubstanceUuid),t.xp6(3),t.Q6J("model",n.relationship.type),t.xp6(2),t.Q6J("access",n.relationship.access),t.xp6(1),t.Q6J("ngIf",n.viewFull),t.xp6(1),t.Q6J("ngIf",n.viewFull),t.xp6(2),t.Q6J("hideImage",!n.viewFull)("subuuid",n.mediatorSubstanceUuid),t.xp6(3),t.Q6J("ngIf",n.viewFull),t.xp6(1),t.Q6J("ngIf",!n.viewFull),t.xp6(1),t.Q6J("ngIf",!n.relationship.$$deletedCode&&n.viewFull))},directives:[C.O5,T.lW,S.gM,m.Hw,g.Q,i.S,d.h,_.Fj,_.JJ,_.On,u.f,r.V,D.n],styles:[".relationship-form-container[_ngcontent-%COMP%]{padding:30px 10px 12px;position:relative;display:-ms-flexbox;display:flex}.type[_ngcontent-%COMP%]     mat-form-field, .name[_ngcontent-%COMP%]     mat-form-field, .property-name[_ngcontent-%COMP%]     mat-form-field{width:100%}.collapse[_ngcontent-%COMP%]{padding:20px 10px 12px;position:relative}.chevron[_ngcontent-%COMP%]{width:20px;line-height:67px;color:#0009}.chevron-button[_ngcontent-%COMP%]{width:20px}.notification-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:-ms-flexbox;display:flex;z-index:10;background-color:#fffc;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:30px;font-weight:700;color:#666}.related-substance[_ngcontent-%COMP%], .mediator-substance[_ngcontent-%COMP%]{max-width:25%;width:25%}.form-content[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{padding:0 10px 8px 0}.form-row[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .qualification[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .interaction-type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.key-value-pair[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:start;align-self:flex-start}.key-value-pair[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:11px;padding-bottom:3.5px;line-height:11px}.key-value-pair[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15.5px}.references-container[_ngcontent-%COMP%]{width:100%}.amount-title[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.amount-form-container[_ngcontent-%COMP%]{padding:0 7px}@media (max-width: 990px){.form-content[_ngcontent-%COMP%]{width:100%}.mediator-substance[_ngcontent-%COMP%]{-ms-flex-order:-1;order:-1;width:40%;max-width:40%}.related-substance[_ngcontent-%COMP%]{-ms-flex-order:-2;order:-2;width:40%;max-width:40%}.delete-column[_ngcontent-%COMP%]{-ms-flex-order:-3;order:-3;width:5%}.relationship-form-container[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:justify;justify-content:space-between}}"]}),o}(),E=s(19975);function W(o,c){if(1&o&&(t.TgZ(0,"mat-form-field",7),t._UZ(1,"input",8),t.qZA()),2&o){var a=t.oxw();t.Q6J("floatLabel","never"),t.xp6(1),t.Q6J("formControl",a.searchControl)}}function K(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(a),t.oxw().collapse()}),t._uU(1),t.qZA()}if(2&o){var n=t.oxw();t.xp6(1),t.hij("",n.expanded?"Collapse":"Expand"," All")}}var Q=function(){return[5,10,25,100]};function $(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"mat-paginator",10),t.NdJ("page",function(l){t.CHM(a);var f=t.oxw();return f.pageChange(l,f.analyticsEventCategory)}),t.qZA()}if(2&o){var n=t.oxw();t.Q6J("length",n.filtered&&n.filtered.length||0)("pageIndex",n.page)("pageSize",5)("pageSizeOptions",t.DdM(4,Q))}}function X(o,c){1&o&&t._UZ(0,"mat-divider",14),2&o&&t.Q6J("inset",!0)}function G(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"app-relationship-form",12),t.NdJ("relationshipDeleted",function(N){return t.CHM(a),t.oxw().deleteRelationship(N)}),t.qZA(),t.YNc(2,X,1,1,"mat-divider",13),t.qZA()}if(2&o){var n=c.$implicit,p=c.last,l=c.index,f=t.oxw();t.Q6J("id","substance-relationship-"+l),t.xp6(1),t.Q6J("relationship",n)("show",f.expanded),t.xp6(1),t.Q6J("ngIf",!p)}}function tt(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"mat-paginator",10),t.NdJ("page",function(l){t.CHM(a);var f=t.oxw();return f.pageChange(l,f.analyticsEventCategory)}),t.qZA()}if(2&o){var n=t.oxw();t.Q6J("length",n.filtered&&n.filtered.length||0)("pageIndex",n.page)("pageSize",5)("pageSizeOptions",t.DdM(4,Q))}}function et(o,c){if(1&o){var a=t.EpF();t.TgZ(0,"div",15),t._UZ(1,"span",2),t.TgZ(2,"button",16),t.NdJ("click",function(){return t.CHM(a),t.oxw().addRelationship()}),t._uU(3," Add relationship "),t._UZ(4,"mat-icon",17),t.qZA(),t.qZA()}}var nt=function(){var o=function(c){(0,h.Z)(n,c);var a=(0,e.Z)(n);function n(p,l,f){var v;return(0,Z.Z)(this,n),(v=a.call(this,f)).substanceFormRelationshipsService=p,v.scrollToService=l,v.gaService=f,v.subscriptions=[],v.expanded=!0,v}return(0,b.Z)(n,[{key:"ngOnInit",value:function(){this.canAddItemUpdate.emit(!0),this.menuLabelUpdate.emit("Relationships"),this.analyticsEventCategory="substance form relationships"}},{key:"ngAfterViewInit",value:function(){var l=this,f=this.substanceFormRelationshipsService.substanceRelationships.subscribe(function(v){l.relationships=v,l.filtered=v;var N=l.searchControl.valueChanges.subscribe(function(P){l.filterList(P,l.relationships,l.analyticsEventCategory)},function(P){});l.subscriptions.push(N),l.page=0,l.pageChange()});this.subscriptions.push(f)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed.emit(),this.subscriptions.forEach(function(l){l.unsubscribe()})}},{key:"collapse",value:function(){this.expanded=!this.expanded}},{key:"addItem",value:function(){this.addRelationship()}},{key:"addRelationship",value:function(){var l=this;this.substanceFormRelationshipsService.addSubstanceRelationship(),setTimeout(function(){l.scrollToService.scrollToElement("substance-relationship-0","center")})}},{key:"deleteRelationship",value:function(l){this.substanceFormRelationshipsService.deleteSubstanceRelationship(l)}}]),n}(F.u);return o.\u0275fac=function(a){return new(a||o)(t.Y36(O.F),t.Y36(I.i),t.Y36(x.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-substance-form-relationships-card"]],features:[t.qOj],decls:8,vars:6,consts:[[1,"flex-row"],["class","search",3,"floatLabel",4,"ngIf"],[1,"middle-fill"],["class","standardize","mat-button","",3,"click",4,"ngIf"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","relationship","appScrollToTarget","",3,"id",4,"ngFor","ngForOf"],["style","display: flex;",4,"ngIf"],[1,"search",3,"floatLabel"],["matInput","","placeholder","Search",3,"formControl"],["mat-button","",1,"standardize",3,"click"],["showFirstLastButtons","true",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["appScrollToTarget","",1,"relationship",3,"id"],[3,"relationship","show","relationshipDeleted"],["class","form-divider",3,"inset",4,"ngIf"],[1,"form-divider",3,"inset"],[2,"display","flex"],["mat-button","",3,"click"],["svgIcon","add_circle_outline"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0),t.YNc(1,W,2,2,"mat-form-field",1),t._UZ(2,"span",2),t.YNc(3,K,2,1,"button",3),t.qZA(),t.YNc(4,$,1,5,"mat-paginator",4),t.YNc(5,G,3,4,"div",5),t.YNc(6,tt,1,5,"mat-paginator",4),t.YNc(7,et,5,0,"div",6)),2&a&&(t.xp6(1),t.Q6J("ngIf",n.relationships&&n.relationships.length>n.pageSize),t.xp6(2),t.Q6J("ngIf",n.relationships&&n.relationships.length>0),t.xp6(1),t.Q6J("ngIf",n.relationships&&n.relationships.length>5),t.xp6(1),t.Q6J("ngForOf",n.paged),t.xp6(1),t.Q6J("ngIf",n.relationships&&n.relationships.length>5),t.xp6(1),t.Q6J("ngIf",n.relationships&&n.relationships.length>0))},directives:[C.O5,M.KE,y.Nt,_.Fj,_.JJ,_.oH,T.lW,w.NW,C.sg,R.P,B,E.d,m.Hw],styles:[".mat-divider.mat-divider-inset[_ngcontent-%COMP%]{margin-left:0}.mat-divider[_ngcontent-%COMP%]{border-top-color:#00000080}.relationship[_ngcontent-%COMP%]:nth-child(odd){background-color:#448aff12}.relationship[_ngcontent-%COMP%]:nth-child(odd)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#448aff26}.relationship[_ngcontent-%COMP%]:nth-child(even)     .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background-color:#80808026}.relationship[_ngcontent-%COMP%]     .mat-expansion-panel, .relationship[_ngcontent-%COMP%]     .mat-table, .relationship[_ngcontent-%COMP%]     textarea{background-color:transparent}.search[_ngcontent-%COMP%]{width:400px;max-width:100%}"]}),o}(),ot=s(64061),it=s(7168),at=s(94673),st=s(63200),rt=function(){var o=(0,b.Z)(function c(){(0,Z.Z)(this,c)});return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.ez,ot.o.forChild(nt),it.O,E.t,m.Ps,T.ot,at.w,M.lN,_.UX,_.u5,w.TU,y.c,st.U,S.AV]]}),o}()}}]);
//# sourceMappingURL=1704.6030a59c0d5fcf9a.js.map