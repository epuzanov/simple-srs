{"version":3,"mappings":"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","names":["i0","AuditInfoComponent","c","selectors","ctx_r8","ctx_r14","ctx_r16","CopyDisulfideDialogComponent","dialogRef","subService","data","arguments","this","disableClose","unit","sequence","full","substanceSubunits","subscribe","e","units","resp","selected","showButtons","copyDisulfideLinks","message","setTimeout","p","MAT_DIALOG_DATA","ctx_r6","ctx_r19","ctx_r21","SubunitFormComponent","substanceFormService","substanceFormLinksService","scrollToService","gaService","cvService","dialog","overlayContainerService","router","l","EventEmitter","allSites","overlayContainer","getContainerElement","subunit","toggle","subunitIndex","definition","substanceType","substanceClass","searchType","getVocabularies","unsubscribe","displaySequenceSubscription","subunitDisplaySequences","newSubunits","subunits","filter","subunitSequence","deepEqual","JSON","stringify","addStyle","subscriptions","push","allSitesSubscription","tempSitelist","forEach","site","changes","subscription","nonStandard","value","display","getDomainVocabulary","key","vocabulary","response","AMINO_ACID_RESIDUE","dictionary","X","validArray","NUCLEIC_ACID_BASE","residue","class","type","unitIndex","unitValue","vocab","undefined","toUpperCase","arr","formatted","modification","other","feature","disulfide","splitDisplay","split","type2","open","width","style","zIndex","afterClosed","id","makeRandom","sessionStorage","setItem","url","window","location","href","replace","serializeUrl","createUrlTree","queryParams","seq_type","source","source_id","text","possible","i","charAt","Math","floor","random","length","input","trim","emitSubunitUpdate","recalculateCysteine","editSequence","preformatSeq","textArea","document","getElementsByClassName","call","area","height","scrollHeight","event","target","subunitDeleted","emit","seq","ret","substr","cleanedSequence","indexOf","char","toString","obj","n","arr2","seqarr","trans","sequenceType","sugarType","sugarsSubscription","substanceSugars","r","sugars","sug","linksSubscription","substanceLinks","links","sugar","sites","s","subunitArray","residueIndex","link","linkageArray","linkage","emitSugarUpdate","emitLinkUpdate","ctx","ctx_r3","ctx_r9","ctx_r11","SubstanceFormSubunitsComponent","substanceFormPropertiesService","S","analyticsEventCategory","menuLabelUpdate","u","canAddItemUpdate","subunitsSubscription","filtered","index","subcount","sendEvent","view","addSubunit","addSubstanceSubunit","next","scrollToElement","deleteSubstanceSubunit","subunitSequences","v","SubunitSelectorDialogComponent","card","panelClass","dialogSubscription","newFeature","addSubstancePropertyFromFeature","alert","siteType","sentFeature","addAnySiteType","SubstanceCardBaseFilteredList","SubstanceFormSubunitsModule","f","CommonModule","DynamicComponentLoaderModule","SubstanceFormModule","MatDividerModule","MatIconModule","MatButtonModule","ScrollToModule","MatFormFieldModule","ReactiveFormsModule","FormsModule","MatPaginatorModule","MatTooltipModule","MatButtonToggleModule","MatInputModule","objectKeys","require","isArguments","is","isRegex","flags","isDate","getTime","Date","prototype","x","copy","slice","module","exports","actual","expected","options","opts","strict","a","b","isUndefinedOrNull","aIsRegex","bIsRegex","aIsBuffer","isBuffer","bIsBuffer","ka","kb","sort","objEquiv","keys","hasSymbols","Symbol","toStr","Object","concat","Array","origDefineProperty","defineProperty","supportsDescriptors","_","enumerable","arePropertyDescriptorsSupported","object","name","predicate","fn","isFunction","configurable","writable","defineProperties","map","predicates","props","getOwnPropertySymbols","getDay","hasToStringTag","toStringTag","tryDateObject","has","$exec","isRegexMarker","badStringifier","callBound","throwRegexMarker","valueOf","toPrimitive","$toString","gOPD","getOwnPropertyDescriptor","descriptor","numberIsNaN","define","callBind","implementation","getPolyfill","shim","polyfill","keysShim","hasOwnProperty","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","constructor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","isObject","isString","theKeys","TypeError","skipProto","String","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","keysWorksWithArguments","args","str","callee","$Object","$TypeError","result","hasIndices","global","ignoreCase","multiline","dotAll","unicode","sticky","flagsBound","$gOPD","RegExp","get","TypeErr","getProto","getPrototypeOf","regex","proto"],"sources":["./src/app/core/substance-form/audit-info/audit-info.component.html","./src/app/core/substance-form/audit-info/audit-info.component.ts","./src/app/core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component.html","./src/app/core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component.ts","./src/app/core/substance-form/subunit-form/subunit-form.component.html","./src/app/core/substance-form/subunit-form/subunit-form.component.ts","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.component.html","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.component.ts","./src/app/core/substance-form/substance-form-subunits/substance-form-subunits.module.ts","./node_modules/deep-equal/index.js","./node_modules/define-properties/index.js","./node_modules/is-date-object/index.js","./node_modules/is-regex/index.js","./node_modules/object-is/implementation.js","./node_modules/object-is/index.js","./node_modules/object-is/polyfill.js","./node_modules/object-is/shim.js","./node_modules/object-keys/implementation.js","./node_modules/object-keys/index.js","./node_modules/object-keys/isArguments.js","./node_modules/regexp.prototype.flags/implementation.js","./node_modules/regexp.prototype.flags/index.js","./node_modules/regexp.prototype.flags/polyfill.js","./node_modules/regexp.prototype.flags/shim.js"],"sourcesContent":["<div class = 'audit-container' *ngIf = \"source\">\n  <div class = \"name\" *ngIf = 'source.createdBy'><b class = 'static'>Created By:</b> {{ source.createdBy}} </div>\n  <div class = \"date\" *ngIf = 'source.created'><b class = 'static'>on</b> {{ source.created | date:'medium'}}</div>\n  <div class = \"spacer\" *ngIf = 'source.created && source.lastEdited'> <b>-</b> </div>\n  <div class = \"name\" *ngIf = 'source.lastEditedBy'><b class = 'static'>Last Edited By</b>: {{ source.lastEditedBy}} </div>\n  <div class = \"date\" *ngIf = 'source.lastEdited'><b class = 'static'>on</b> {{ source.lastEdited | date:'medium'}}</div>\n</div>\n\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-audit-info',\n  templateUrl: './audit-info.component.html',\n  styleUrls: ['./audit-info.component.scss']\n})\nexport class AuditInfoComponent implements OnInit {\n  @Input() source: any;\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n}\n","<div mat-dialog-title>\n    Copy Disulfide Links\n    </div>\n  <div mat-dialog-content>\n      <div class = \"form-row desc\">\n        Copy intra-connected disulfide links from one subunit to another with an identical sequence.\n      </div>\n    <span *ngIf = \"showButtons\">\n            <div *ngFor = \"let current of units\" class = \"form-column\">\n                    <div *ngIf = \"current.sequence == sequence\" class = \"option\">\n                          <button  mat-button *ngIf = \"current.subunitIndex !== unit\" (click) = \"select(current.subunitIndex)\">\n                                Copy From Subunit {{current.subunitIndex}}\n                              </button>\n                    </div>\n                    <div *ngIf = \"current.sequence !== sequence\" class = \"option\">\n                          Subunit {{current.subunitIndex}} is not applicable\n                          </div>\n                    \n                </div>\n    </span>\n    \n      \n\n  </div>\n  <div *ngIf = \"selected\" >\n        <div class = \"form-row\">\n\n Are you sure you want to copy the disulfide links from subunit {{selected}} to subunit {{unit}}? Any disulfide links on subunit {{unit}} will be erased and overwritten.\n </div>\n <div class = \"form-row\">\n\n <button mat-button (click) = \"confirm()\">Confirm</button>\n  <span class=\"middle-fill\"></span>\n\n  <button mat-button (click) =\"cancel()\">Cancel</button>\n  </div>\n</div>\n<div *ngIf = 'message'>\n    {{message}}\n</div>\n  <div mat-dialog-actions>\n    <button mat-flat-button color=\"primary\" matDialogClose>Close</button>\n  \n    <span class=\"middle-fill\"></span>\n  \n  </div>","import { Component, OnInit, Inject } from '@angular/core';\nimport { SubstanceFormService } from '@gsrs-core/substance-form/substance-form.service';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-copy-disulfide-dialog',\n  templateUrl: './copy-disulfide-dialog.component.html',\n  styleUrls: ['./copy-disulfide-dialog.component.scss']\n})\nexport class CopyDisulfideDialogComponent implements OnInit {\n  unit: any;\n  units: any;\n  selected: any;\n  sequence: string;\n  message: string;\n  showButtons = true;\n  constructor(\n    public dialogRef: MatDialogRef<CopyDisulfideDialogComponent>,\n    private subService: SubstanceFormService,\n    @Inject(MAT_DIALOG_DATA) public data: any = {}\n  ) {dialogRef.disableClose = true; }\n\n  ngOnInit() {\n    this.unit = this.data.unit;\n    this.sequence = this.data.full.sequence;\n    this.subService.substanceSubunits.subscribe(resp => {\n      this.units = resp;\n    });\n  }\n\n  select(unit: any) {\n    this.selected = unit;\n    this.showButtons = false;\n  }\n\n  confirm() {\n    this.subService.copyDisulfideLinks(this.unit, this.selected);\n    this.selected = null;\n    this.message = 'Copying...';\n    setTimeout(() => {\n      this.message = 'Links successfully copied over.';\n    }, 500);\n\n  }\n\n  cancel() {\n    this.selected = null;\n    this.showButtons = true;\n\n  }\n\n}\n","<div class = \"subunit-container\">\n  <div *ngIf=\"subunit.$$deletedCode\" class=\"notification-backdrop\">\n    Deleted&nbsp;\n\n  </div>\n  <div class = \"form-row\">\n    <div class=\"delete-container\">\n      <button mat-icon-button matTooltip=\"Delete link\" (click)=\"deleteSubunit()\">\n        <mat-icon svgIcon=\"delete_forever\"></mat-icon>\n      </button>\n    </div>\n    <div class = \"subunit-label\">Subunit {{subunit.subunitIndex}}</div>\n    <div class = \"buttons\">\n      <button class = \"mat-button mat-primary action-button\" (click) = 'editSubunit(subunit, editSequence)'>\n        {{toggle[subunit.subunitIndex] ? 'save': 'edit'}}</button>\n      <button class = \"mat-button action-button mat-primary\" (click) = cleanSequence()>\n        clean</button>\n      <span class = \"spacer\"> </span>\n      <button class = \"mat-button action-button mat-primary convert\" matTooltip = \"convert 3 letter sequence to 1 letter\"\n      *ngIf = \"substanceType !== 'nucleicAcid'\"  (click) = convertSequence()>\n        convert</button>\n        \n\n      <a class = \"button-link \" matTooltip =\"search for sequence in a new tab\" (click) = \"search()\">sequence search</a>\n      <button class = \"mat-button action-button mat-primary\" matTooltip = \"copy disulfides from another subunit\"  (click) = copyDisulfides() *ngIf = \"substanceType === 'protein'\">\n          copy disulfide links</button>\n    </div>\n  </div>\n\n<div class=\"subunit-edit\" [ngClass]=\"toggle[subunit.subunitIndex] ? 'show': 'hide'\" >\n  <textarea #sequence cdkAutosizeMinRows=\"3\" placeholder=\"Enter sequence here\"  [(ngModel)] = 'editSequence' (change) = \"editSubunit(subunit, editSequence)\" class = \"sequence-textarea\"  name=\"edit\"></textarea>\n</div>\n<div [ngClass]=\"toggle[subunit.subunitIndex] ? 'hide': 'show'\"  >\n  <div class = \"nest\">\n    <div class=\"subunit\">\n      <div class=\"raw-sequence\">{{subunit.sequence}}</div>\n    </div>\n  </div>\n\n\n  <div class=\"subunit-sequence\" *ngIf = \"subunitSequence\">\n    <div class=\"responsive\">\n      <div *ngFor = \"let set of subunitSequence.subsections;last as last1\"  class=\"sequence-section-group\">\n        <div *ngFor = \"let num of set;last as last2\" class= \"sequence-section\"  [ngClass] = \"last1 && last2? 'last-section' : ''\" >\n          <div class = \"section-number\">{{num[1]}}</div>\n          <div class = section-units-container>\n          <span *ngFor = \"let subunit of subunitSequence.subunits.slice(num[0],num[1])\"  class=\"section-unit\" >\n              <span class = \"selectedSite siteref\" matTooltipClass=\"unit-tooltip\"\n                    matTooltip =\"{{getTooltipMessage(subunitSequence.subunitIndex, subunit.unitIndex, subunit.unitValue,subunit.class || '').join('\\n')}}\"\n                    [ngClass]=\"subunit.class\" >{{subunit.unitValue}}</span>\n        </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n  <div class = 'form-row'>\n    <div *ngIf = \"substanceType === 'nucleicAcid'\">\n      Generate{{sequenceType? 'd':''}} links and sugars for this subunit as a\n      <button mat-button (click) = \"generateSites('DNA')\" [ngClass]=\"sequenceType === 'DNA'?'generated':''\">DNA</button>\n      <button mat-button (click) = \"generateSites('RNA')\" [ngClass]=\"sequenceType === 'RNA'?'generated':''\">RNA</button>\n      sequence\n    </div>\n  </div>\n  <app-audit-info [source] = \"subunit\"></app-audit-info>\n</div>\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { Linkage, Site, Subunit, Sugar } from '@gsrs-core/substance';\nimport { ControlledVocabularyService, VocabularyTerm } from '@gsrs-core/controlled-vocabulary';\nimport { SubstanceFormService } from '@gsrs-core/substance-form/substance-form.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { ScrollToService } from '@gsrs-core/scroll-to/scroll-to.service';\nimport { GoogleAnalyticsService } from '@gsrs-core/google-analytics';\nimport * as deepEqual from 'deep-equal';\nimport { SubstanceFormLinksService } from '../links/substance-form-links.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { OverlayContainer } from '@angular/cdk/overlay';\nimport { CopyDisulfideDialogComponent } from '@gsrs-core/substance-form/copy-disulfide-dialog/copy-disulfide-dialog.component';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-subunit-form',\n  templateUrl: './subunit-form.component.html',\n  styleUrls: ['./subunit-form.component.scss']\n})\n\nexport class SubunitFormComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\n  @Input() subunit: Subunit;\n  @Input() view: string;\n  @Input() sites?: Array<any>;\n  @Output() subunitDeleted = new EventEmitter<Subunit>();\n  subunitSequence: SubunitSequence;\n  vocabulary: { [vocabularyTermValue: string]: VocabularyTerm } = {};\n  private subscriptions: Array<Subscription> = [];\n  toggle = {};\n  allSites: Array<DisplaySite> = [];\n  features: Array<any> = [];\n  sequenceSites: Array<any> = [];\n  editSequence: string;\n  sugars: Array<Sugar>;\n  links: Array<Linkage>;\n  sequenceType = '';\n  substanceType: string;\n  searchType: string;\n  validArray: Array<string> = [];\n  private overlayContainer: HTMLElement;\n\n\n\n\n  constructor(\n    private substanceFormService: SubstanceFormService,\n    private substanceFormLinksService: SubstanceFormLinksService,\n    private scrollToService: ScrollToService,\n    public gaService: GoogleAnalyticsService,\n    private cvService: ControlledVocabularyService,\n    private dialog: MatDialog,\n    private overlayContainerService: OverlayContainer,\n    private router: Router,\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.allSites = [];\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n    if (this.subunit.sequence === '') {\n      this.toggle[this.subunit.subunitIndex] = true;\n    }\n    const definitionSubscription = this.substanceFormService.definition.subscribe(definition => {\n      this.substanceType = definition.substanceClass;\n      if (this.substanceType === 'protein') {\n        this.searchType = 'Protein';\n      } else {\n        this.searchType = 'Nucleicacid';\n      }\n      this.getVocabularies();\n    });\n    definitionSubscription.unsubscribe();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      const displaySequenceSubscription = this.substanceFormService.subunitDisplaySequences.subscribe(subunits => {\n        const newSubunits = subunits.filter(unit => unit.subunitIndex === this.subunit.subunitIndex)[0];\n        if (!this.subunitSequence || !deepEqual(this.subunitSequence, newSubunits)) {\n          if (this.subunitSequence && JSON.stringify(this.subunitSequence) !== JSON.stringify(newSubunits)) {\n            this.subunitSequence = newSubunits;\n            setTimeout(() => {\n              if (this.allSites) {\n                this.addStyle();\n              }\n            });\n          } else {\n            this.subunitSequence = newSubunits;\n          }\n        }\n      });\n      this.subscriptions.push(displaySequenceSubscription);\n\n    });\n\n    const allSitesSubscription = this.substanceFormService.allSites.subscribe(allSites => {\n      const tempSitelist = [];\n      allSites.forEach(site => {\n        if (site.subunit === this.subunit.subunitIndex) {\n          tempSitelist.push(site);\n        }\n      });\n      if (this.allSites && this.allSites !== tempSitelist) {\n        this.allSites = tempSitelist;\n        setTimeout(() => {\n          if (this.subunitSequence) {\n            this.addStyle();\n          }\n        });\n      } else if (!this.allSites) {\n        this.allSites = tempSitelist;\n      }\n\n    }\n    );\n    this.subscriptions.push(allSitesSubscription);\n    setTimeout(() => {\n      if (this.subunitSequence) {\n        // this.addStyle('after subs');\n      }\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => {\n      subscription.unsubscribe();\n    });\n  }\n\n  getVocabularies(): void {\n    const nonStandard: VocabularyTerm = {\n      'value': 'X',\n      'display': 'Non-standard Residue'\n    };\n    if (this.substanceType === 'protein') {\n      this.cvService.getDomainVocabulary('AMINO_ACID_RESIDUE').subscribe(response => {\n        this.vocabulary = response['AMINO_ACID_RESIDUE'].dictionary;\n        this.vocabulary.X = nonStandard;\n        // eslint-disable-next-line guard-for-in\n        for (const key in this.vocabulary) {\n          this.validArray.push(this.vocabulary[key].value);\n        }\n      }, error => {\n      });\n    } else {\n      this.cvService.getDomainVocabulary('NUCLEIC_ACID_BASE').subscribe(response => {\n        this.vocabulary = response['NUCLEIC_ACID_BASE'].dictionary;\n        this.vocabulary.X = nonStandard;\n        // eslint-disable-next-line guard-for-in\n        for (const key in this.vocabulary) {\n          this.validArray.push(this.vocabulary[key].value);\n        }\n\n      }, error => {\n      });\n\n    }\n\n  }\n\n  addStyle(): void {\n    if (this.subunitSequence && this.subunitSequence.subunits) {\n      this.allSites.forEach(site => {\n        if (this.subunitSequence.subunits) {\n          if (this.subunitSequence.subunits[site.residue - 1].class\n            && this.subunitSequence.subunits[site.residue - 1].class !== site.type) {\n            this.subunitSequence.subunits[site.residue - 1].class = this.subunitSequence.subunits[site.residue - 1].class + ' ' + site.type;\n          } else {\n            this.subunitSequence.subunits[site.residue - 1].class = site.type;\n          }\n        }\n      });\n    }\n  }\n\n  /* getTooltipMessage(subunitIndex: number, unitIndex: number, unitValue: string): string {\n     const vocab = (this.vocabulary[unitValue.toUpperCase()] === undefined ? 'UNDEFINED'\n     : this.vocabulary[unitValue.toUpperCase()].display);\n     return `${subunitIndex} - ${unitIndex}: ${unitValue.toUpperCase()} (${vocab})`;\n   }*/\n\n  getTooltipMessage(subunitIndex: number, unitIndex: number, unitValue: string, type: string): any {\n    const vocab = (this.vocabulary[unitValue.toUpperCase()] === undefined ? 'UNDEFINED' : this.vocabulary[unitValue.toUpperCase()].display);\n    const arr = [];\n    const formatted = {\n      'modification': 'Structural Modification',\n      'other': 'Other Link',\n      'C-Glycosylation': 'C-Glycosylation',\n      'N-Glycosylation': 'N-Glycosylation',\n      'O-Glycosylation': 'O-Glycosylation',\n      'feature': this.substanceType.toUpperCase() + ' Feature',\n      'disulfide': 'Disulfide Link'\n    };\n    arr.push(`${subunitIndex} - ${unitIndex}: ${unitValue.toUpperCase()} (${vocab})`);\n    const splitDisplay = type.split(' ');\n    splitDisplay.forEach(type2 => {\n      arr.push(formatted[type2] || '');\n    });\n    return arr;\n  }\n\n  copyDisulfides() {\n    const dialogRef = this.dialog.open(CopyDisulfideDialogComponent, {\n      data: {'unit': this.subunit.subunitIndex, 'full': this.subunit},\n      width: '600px'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(response => {\n      this.overlayContainer.style.zIndex = null;\n      if (response ) {\n      }\n    });\n  }\n\n  search() {\n    const id = this.makeRandom();\n    sessionStorage.setItem('gsrs_edit_sequence_' + id, JSON.stringify(this.subunit.sequence));\n    const baseUrl = window.location.href.replace(this.router.url, '');\n    const url = baseUrl + this.router.serializeUrl(this.router.createUrlTree(['/sequence-search'],\n     { queryParams: { seq_type: this.searchType, source: 'edit', source_id: id}}));\nwindow.open( url, '_blank');\n\n  }\n\n  makeRandom() {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';\n    for (let i = 0; i < 6; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n      return text;\n  }\n\n  editSubunit(subunit: Subunit, input: string): void {\n    this.toggle[subunit.subunitIndex] = !this.toggle[subunit.subunitIndex];\n    if (this.toggle[subunit.subunitIndex] === false) {\n      this.subunit.sequence = input.trim().replace(/\\s/g, '');\n      this.substanceFormService.emitSubunitUpdate();\n      this.substanceFormService.recalculateCysteine();\n    } else {\n      this.editSequence = this.preformatSeq(this.subunit.sequence);\n\n      setTimeout(() => {\n        const textArea = document.getElementsByClassName('sequence-textarea');\n        [].forEach.call(textArea, function (area) {\n          area.style.height = (area.scrollHeight + 10) + 'px';\n        });\n      });\n    }\n  }\n  change(event): void {\n    if (this.toggle[this.subunit.subunitIndex] === false) {\n      event.target.value = this.subunit.sequence;\n    }\n  }\n\n  deleteSubunit(): void {\n    this.subunitDeleted.emit(this.subunit);\n  }\n\n  preformatSeq(seq): string {\n    let ret = '';\n    if (seq) {\n      for (let i = 0; i < seq.length; i += 10) {\n        if (i % 50 === 0) {\n          ret += '\\n';\n        }\n        ret += seq.substr(i, 10) + '     ';\n      }\n    }\n    return ret.trim();\n  }\n\n  cleanSequence(): void {\n    if (!this.toggle[this.subunit.subunitIndex]) {\n\n      const toArray = this.subunit.sequence.split('');\n      let cleanedSequence = toArray.filter(char => this.validArray.indexOf(char.toUpperCase()) >= 0).toString().replace(/,/g, '').trim();\n      if (this.toggle[this.subunit.subunitIndex] === false) {\n\n      }\n      if (this.substanceType !== 'protein') {\n          //non-proteins should have sequences be upper-case always\n          cleanedSequence = cleanedSequence.toUpperCase();\n      }\n      if (cleanedSequence !== this.subunit.sequence) {\n        this.subunit.sequence = cleanedSequence;\n        this.substanceFormService.emitSubunitUpdate();\n        this.substanceFormService.recalculateCysteine();\n      }\n    } else {\n      const toArray = this.editSequence.replace(/\\s/g, '').split('');\n      let cleanedSequence = toArray.filter(char => this.validArray.indexOf(char.toUpperCase()) >= 0).toString().replace(/,/g, '').trim();\n      if (this.substanceType !== 'protein') {\n          //non-proteins should have sequences be upper-case always\n          cleanedSequence = cleanedSequence.toUpperCase();\n      }\n      this.editSequence = this.preformatSeq(cleanedSequence);\n    }\n  }\n\n  convertSequence(): void {\n    const dashes = true;\n    const dict = 'A\tAla;C\tCys;D\tAsp;E\tGlu;F\tPhe;G\tGly;H\tHis;I\tIle;K\tLys;L\tLeu;M\tMet;N\tAsn;P\tPro;Q\tGln;R\tArg;S\tSer;T\tThr;V\tVal;W\tTrp;Y\tTyr';\n    let arr = [];\n    const obj = {};\n    let n = '';\n    arr = dict.split(';');\n    for (let i = 0; i < arr.length; i++) {\n      let arr2 = [];\n      arr2 = arr[i].split('\\t');\n      obj[arr2[0]] = arr2[1];\n      obj[arr2[1].toUpperCase()] = arr2[0];\n    }\n    let seqarr = [];\n    if (!this.toggle[this.subunit.subunitIndex]) {\n    seqarr = this.subunit.sequence.replace(/[ ]/g, '-').split('-');\n    } else {\n      seqarr = this.editSequence.replace(/[ ]/g, '-').split('-');\n\n    }\n\n    for (let i = 0; i < seqarr.length; i++) {\n      let trans = obj[seqarr[i].toUpperCase()];\n      if (seqarr[i].length > 3) {\n        n = n + seqarr[i];\n        continue;\n      }\n      if (trans === undefined) {\n        trans = 'X';\n      }\n\n      n = n + trans;\n    }\n    if (!this.toggle[this.subunit.subunitIndex]) {\n    this.subunit.sequence = n;\n    this.substanceFormService.emitSubunitUpdate();\n    this.substanceFormService.recalculateCysteine();\n    } else {\n      this.editSequence = n;\n    }\n  }\n\n\n\n  generateSites(event): void {\n    this.sequenceType = event;\n    const sugarsSubscription = this.substanceFormService.substanceSugars.subscribe(sug => {\n      this.sugars = sug;\n    });\n\n    const linksSubscription = this.substanceFormLinksService.substanceLinks.subscribe(l => {\n      this.links = l;\n    });\n    let sugarType = '';\n    if (event === 'DNA') {\n      sugarType = 'dR';\n    } else {\n      sugarType = 'R';\n    }\n    this.sugars.forEach(sugar => {\n      sugar.sites = sugar.sites.filter(s => s.subunitIndex !== this.subunit.subunitIndex);\n    });\n    const subunitArray = [];\n    if (this.subunit != null && this.subunit.sequence != null) {\n      for (let i = 1; i <= this.subunit.sequence.length; i++) {\n        subunitArray.push({ subunitIndex: this.subunit.subunitIndex, residueIndex: i });\n      }\n    }\n    const newSugar: Sugar = { sugar: sugarType, sites: subunitArray };\n    this.sugars.push(newSugar);\n    this.links.forEach(link => {\n      link.sites = link.sites.filter(s => s.subunitIndex !== this.subunit.subunitIndex);\n    });\n    const linkageArray = [];\n    if (this.subunit != null && this.subunit.sequence != null) {\n      for (let i = 2; i <= this.subunit.sequence.length; i++) {\n        linkageArray.push({ subunitIndex: this.subunit.subunitIndex, residueIndex: i });\n      }\n    }\n    const newLinkage: Linkage = { linkage: 'P', sites: linkageArray };\n    this.links.push(newLinkage);\n    this.substanceFormService.emitSugarUpdate();\n    this.substanceFormService.emitLinkUpdate();\n    linksSubscription.unsubscribe();\n    sugarsSubscription.unsubscribe();\n  }\n\n}\n\ninterface SubunitSequence {\n  subunitIndex?: number;\n  subsections?: Array<any>;\n  subgroups?: Array<any>;\n  subunits?: Array<SequenceUnit>;\n}\n\ninterface SequenceUnit {\n  unitIndex: number;\n  unitValue: string;\n  class: string;\n}\n\ninterface DisplaySite {\n  type: string;\n  subunit: number;\n  residue: number;\n}\n","<div class=\"add-container\">\n    <div class='add-button'>\n      <button mat-button (click)=\"openDialog()\">\n        Add Feature <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n      </button>\n    </div>\n    <div class='add-button' *ngIf='substanceType === \"protein\"'>\n      <button mat-button (click)=\"openAnyDialog()\">\n        Add Any Site Type <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n      </button>\n    </div>\n    <div class=\"middle-fill\"></div>\n    <div class=\"filters-container\">\n      <mat-button-toggle-group [value]=\"view\" (change)=\"updateView($event)\">\n        <mat-button-toggle value=\"details\">\n          <mat-icon svgIcon=\"list\"></mat-icon>\n        </mat-button-toggle>\n        <mat-button-toggle value=\"raw\">\n          <mat-icon svgIcon=\"view_stream\"></mat-icon>\n        </mat-button-toggle>\n      </mat-button-toggle-group>\n    </div>\n  </div>\n  <div [ngClass]=\"view\">\n    <div *ngFor=\"let subunit of subunits; last as isLast; index as index\" appScrollToTarget\n      [id]=\"'substance-subunit-' + index\">\n      <app-subunit-form [subunit]=\"subunit\" [view]='substanceType' (subunitDeleted)=\"deleteSubunit($event)\">\n      </app-subunit-form>\n      <mat-divider class=\"form-divider\" [inset]=\"true\" *ngIf=\"!isLast\"></mat-divider>\n    </div>\n  \n  </div>\n  <div class=\"add-container-bottom\" *ngIf = \"subunits && subunits.length > 0\">\n      <div class='add-button'>\n        <button mat-button (click)=\"addSubunit()\">\n          Add Subunit <mat-icon svgIcon=\"add_circle_outline\"></mat-icon>\n        </button>\n      </div>\n    </div>","import {AfterViewInit, Component, OnDestroy, OnInit} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {SubstanceFormService} from '@gsrs-core/substance-form/substance-form.service';\nimport {ScrollToService} from '@gsrs-core/scroll-to/scroll-to.service';\nimport {GoogleAnalyticsService} from '@gsrs-core/google-analytics';\nimport {Linkage, Site, Subunit, Sugar} from '@gsrs-core/substance';\nimport {SubstanceCardBaseFilteredList} from '@gsrs-core/substance-form/base-classes/substance-form-base-filtered-list';\nimport {ControlledVocabularyService, VocabularyTerm} from '@gsrs-core/controlled-vocabulary';\nimport {SubunitSelectorDialogComponent} from '@gsrs-core/substance-form/subunit-selector-dialog/subunit-selector-dialog.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {OverlayContainer} from '@angular/cdk/overlay';\nimport {DisplaySite, SubunitSequence} from '@gsrs-core/substance-form/substance-form.model';\nimport { SubstanceFormPropertiesService } from '../properties/substance-form-properties.service';\n\n@Component({\n  selector: 'app-substance-form-subunits',\n  templateUrl: './substance-form-subunits.component.html',\n  styleUrls: ['./substance-form-subunits.component.scss']\n})\nexport class SubstanceFormSubunitsComponent extends SubstanceCardBaseFilteredList<Subunit> implements OnInit, AfterViewInit, OnDestroy {\n  subunits: Array<Subunit> = [];\n  subunitSequences: Array<SubunitSequence> = [];\n  vocabulary: { [vocabularyTermValue: string]: VocabularyTerm } = {};\n  private subscriptions: Array<Subscription> = [];\n  toggle = {};\n  view = 'details';\n  sequenceType = '';\n  substanceType: string;\n  private overlayContainer: HTMLElement;\n  features: any;\n  allSites: Array<Array<DisplaySite>> = [];\n  subcount = 0;\n  sequenceSites: Array<any> = [];\n  sugars: Array<Sugar>;\n  links: Array<Linkage>;\n\n  constructor(\n    private substanceFormService: SubstanceFormService,\n    private scrollToService: ScrollToService,\n    public gaService: GoogleAnalyticsService,\n    private cvService: ControlledVocabularyService,\n    private dialog: MatDialog,\n    private overlayContainerService: OverlayContainer,\n    private substanceFormPropertiesService: SubstanceFormPropertiesService\n  ) {\n    super(gaService);\n    this.analyticsEventCategory = 'substance form subunits';\n  }\n\n  ngOnInit() {\n    this.menuLabelUpdate.emit('Subunits');\n    this.overlayContainer = this.overlayContainerService.getContainerElement();\n\n  }\n\n  ngAfterViewInit(): void {\n\n    const definitionSubscription = this.substanceFormService.definition.subscribe( definition => {\n      this.substanceType = definition.substanceClass;\n    });\n    definitionSubscription.unsubscribe();\n    this.canAddItemUpdate.emit(true);\n    const subunitsSubscription = this.substanceFormService.substanceSubunits.subscribe(subunits => {\n      this.subunits = subunits;\n      this.filtered = subunits;\n\n\n      this.subunits.forEach(unit => {\n        this.allSites[unit.subunitIndex] = [];\n      });\n    });\n    this.subscriptions.push(subunitsSubscription);\n  }\n\n  getSites(index: number): Array<DisplaySite> {\n    this.subcount = this.subcount + 1;\n    return this.allSites[index];\n  }\n\n    ngOnDestroy() {\n      this.subscriptions.forEach(subscription => {\n        subscription.unsubscribe();\n      });\n    }\n\n  updateView(event): void {\n    this.gaService.sendEvent(this.analyticsEventCategory, 'button:view-update', event.value);\n    this.view = event.value;\n  }\n\n  addItem(): void {\n    this.addSubunit();\n  }\n\n  addSubunit(): void {\n    this.substanceFormService.addSubstanceSubunit();\n    const next = 'substance-subunit-' + (this.subunits.length - 1);\n    setTimeout(() => {\n      this.scrollToService.scrollToElement(next, 'center');\n    });\n    this.substanceFormService.emitSubunitUpdate();\n  }\n\n  deleteSubunit(subunit: Subunit): void {\n    this.substanceFormService.deleteSubstanceSubunit(subunit);\n  }\n\n  getSequence(index: number): any {\n    let sequence = {};\n    this.subunitSequences.forEach(v => {\n      if (v.subunitIndex === (index + 1)) {\n        sequence = v;\n      }\n    });\n    return sequence;\n\n  }\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(SubunitSelectorDialogComponent, {\n      data: {'card': 'feature', 'link': []},\n      width: '1040px',\n      panelClass: 'subunit-dialog'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(newFeature => {\n      if (newFeature) {\n        this.substanceFormPropertiesService.addSubstancePropertyFromFeature(newFeature);\n        setTimeout(() => {\n          // this.scrollToService.scrollToElement(`substance-property-0`, 'center');\n          alert('Feature added under \"Properties\"');\n        });\n      }\n      this.overlayContainer.style.zIndex = null;\n    });\n    this.subscriptions.push(dialogSubscription);\n  }\n\n  openAnyDialog(): void {\n    const dialogRef = this.dialog.open(SubunitSelectorDialogComponent, {\n      data: {'card': 'any', 'link': []},\n      width: '1040px',\n      panelClass: 'subunit-dialog'\n    });\n    this.overlayContainer.style.zIndex = '1002';\n    const dialogSubscription = dialogRef.afterClosed().subscribe(response => {\n      if (response) {\n        if (response.siteType === 'feature') {\n          this.substanceFormPropertiesService.addSubstancePropertyFromFeature(response.sentFeature);\n        } else {\n          this.substanceFormService.addAnySiteType(response);\n        }\n      }\n      }\n    );\n    this.subscriptions.push(dialogSubscription);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {DynamicComponentLoaderModule} from '@gsrs-core/dynamic-component-loader';\nimport {SubstanceFormSubunitsComponent} from '@gsrs-core/substance-form/substance-form-subunits/substance-form-subunits.component';\nimport {SubstanceFormModule} from '@gsrs-core/substance-form/substance-form.module';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatButtonModule} from '@angular/material/button';\nimport {ScrollToModule} from '@gsrs-core/scroll-to';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DynamicComponentLoaderModule.forChild(SubstanceFormSubunitsComponent),\n    SubstanceFormModule,\n    MatDividerModule,\n    MatIconModule,\n    MatButtonModule,\n    ScrollToModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MatPaginatorModule,\n    MatTooltipModule,\n    MatButtonToggleModule,\n    MatInputModule\n  ],\n  exports: [\n  ],\n  declarations: [\n    SubstanceFormSubunitsComponent\n  ]\n})\nexport class SubstanceFormSubunitsModule { }\n","var objectKeys = require('object-keys');\nvar isArguments = require('is-arguments');\nvar is = require('object-is');\nvar isRegex = require('is-regex');\nvar flags = require('regexp.prototype.flags');\nvar isDate = require('is-date-object');\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {\n\t\t\treturn descriptor.get;\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n"],"sourceRoot":"webpack:///","file":"4874.ddc330c61404b71f.js"}