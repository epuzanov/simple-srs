"use strict";(self.webpackChunkgsrs_client=self.webpackChunkgsrs_client||[]).push([[7164],{27164:function(O,f,s){s.d(f,{O:function(){return g}});var h=s(78069),C=s(48047),p=s(95758),o=s(76442),t=s(33662),v=s(87317),g=function(){var c=function(){function _(l,r){(0,h.Z)(this,_),this.dialogRef=l,this.data=r,this.isNew=Object.keys(r.subsAmount).length<2}return(0,C.Z)(_,[{key:"ngOnInit",value:function(){var r=this;this.subsAmount=this.data.subsAmount,this.data=this.data.subsAmount,this.backup=JSON.parse(JSON.stringify(this.data)),this.dialogRef.beforeClosed().subscribe(function(){return r.dialogRef.close(r.data)})}},{key:"save",value:function(){this.dialogRef.close(this.data)}},{key:"cancel",value:function(){this.data.cancel=!0,this.data=this.backup,this.dialogRef.close(this.data)}}]),_}();return c.\u0275fac=function(l){return new(l||c)(o.Y36(p.so),o.Y36(p.WI))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-amount-form-dialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"substanceAmount"],["amountForm",""],[1,"actions"],[1,"middle-fill"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(l,r){if(1&l&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"div"),o._UZ(4,"app-amount-form",2,3),o.TgZ(6,"div",4),o._UZ(7,"span",5),o.TgZ(8,"button",6),o.NdJ("click",function(){return r.cancel()}),o._uU(9,"Cancel"),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return r.save()}),o._uU(11," Save "),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&l){var A=o.MAs(5);o.xp6(1),o.hij("",r.isNew?"Add":"Edit"," Parameter"),o.xp6(3),o.Q6J("substanceAmount",r.subsAmount),o.xp6(6),o.Q6J("disabled",!A)}},directives:[p.uh,p.xY,t.f,v.lW],styles:[""]}),c}()},33662:function(O,f,s){s.d(f,{f:function(){return w}});var h=s(78069),C=s(48047),p=s(42827),o=s(90587),t=s(76442),v=s(84577),g=s(36362),c=s(44770),_=s(91434),l=s(1130),r=s(43365);function A(a,m){if(1&a&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&a){var n=m.$implicit;t.Q6J("value",n.value),t.xp6(1),t.hij(" ",n.display," ")}}function d(a,m){if(1&a&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&a){var n=t.oxw(2);t.s9C("value",n.privateSubstanceAmount.type),t.xp6(1),t.hij("",n.privateSubstanceAmount.type," (not in CV)")}}function b(a,m){if(1&a){var n=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"input",28),t.NdJ("focusout",function(i){return t.CHM(n),t.oxw(2).updateType(i.target)}),t.qZA(),t.qZA()}}function Z(a,m){if(1&a&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&a){var n=m.$implicit;t.Q6J("value",n.value),t.xp6(1),t.hij(" ",n.display," ")}}function T(a,m){if(1&a&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&a){var n=t.oxw(2);t.s9C("value",n.privateSubstanceAmount.units),t.xp6(1),t.hij("",n.privateSubstanceAmount.units," (not in CV)")}}function M(a,m){if(1&a){var n=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"input",28),t.NdJ("focusout",function(i){return t.CHM(n),t.oxw(2).updateUnits(i.target)}),t.qZA(),t.qZA()}}function P(a,m){if(1&a&&(t.TgZ(0,"form",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div"),t.TgZ(4,"mat-form-field",6),t.TgZ(5,"mat-label"),t._uU(6,"Type *"),t.qZA(),t.TgZ(7,"mat-select",7),t.TgZ(8,"mat-option",8),t.TgZ(9,"span",9),t._uU(10,"Clear selection"),t.qZA(),t.qZA(),t.YNc(11,A,2,2,"mat-option",10),t.YNc(12,d,2,2,"mat-option",11),t.TgZ(13,"mat-option",12),t._uU(14,"Other (New Value)"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,b,2,0,"div",13),t.qZA(),t.TgZ(16,"mat-form-field",14),t._UZ(17,"input",15),t.qZA(),t.TgZ(18,"mat-form-field",16),t._UZ(19,"input",17),t.qZA(),t.TgZ(20,"mat-form-field",18),t._UZ(21,"input",19),t.qZA(),t.qZA(),t.TgZ(22,"div",4),t.TgZ(23,"mat-form-field",20),t._UZ(24,"input",21),t.qZA(),t.TgZ(25,"mat-form-field",22),t._UZ(26,"input",23),t.qZA(),t.TgZ(27,"div",5),t.TgZ(28,"div"),t.TgZ(29,"mat-form-field",24),t.TgZ(30,"mat-label"),t._uU(31,"Units"),t.qZA(),t.TgZ(32,"mat-select",7),t.TgZ(33,"mat-option",8),t.TgZ(34,"span",9),t._uU(35,"Clear selection"),t.qZA(),t.qZA(),t.YNc(36,Z,2,2,"mat-option",10),t.YNc(37,T,2,2,"mat-option",11),t.TgZ(38,"mat-option",12),t._uU(39,"Other (New Value)"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(40,M,2,0,"div",13),t.qZA(),t.TgZ(41,"mat-form-field",25),t._UZ(42,"input",26),t.qZA(),t.qZA(),t.qZA()),2&a){var n=t.oxw();t.xp6(7),t.Q6J("formControl",n.typeControl),t.xp6(1),t.Q6J("value",null),t.xp6(3),t.Q6J("ngForOf",n.amountTypeList),t.xp6(1),t.Q6J("ngIf",n.privateSubstanceAmount.type&&!n.inCV(n.amountTypeList,n.privateSubstanceAmount.type)&&""!==n.privateSubstanceAmount.type),t.xp6(3),t.Q6J("ngIf","other"===n.privateSubstanceAmount.type),t.xp6(2),t.Q6J("formControl",n.averageControl),t.xp6(2),t.Q6J("formControl",n.lowControl),t.xp6(2),t.Q6J("formControl",n.highControl),t.xp6(3),t.Q6J("formControl",n.lowLimitControl),t.xp6(2),t.Q6J("formControl",n.highLimitControl),t.xp6(6),t.Q6J("formControl",n.unitsControl),t.xp6(1),t.Q6J("value",null),t.xp6(3),t.Q6J("ngForOf",n.amountUnitList),t.xp6(1),t.Q6J("ngIf",n.privateSubstanceAmount.units&&!n.inCV(n.amountUnitList,n.privateSubstanceAmount.units)&&""!==n.privateSubstanceAmount.units),t.xp6(3),t.Q6J("ngIf","other"===n.privateSubstanceAmount.units),t.xp6(2),t.Q6J("formControl",n.nonNumericValueControl)}}var w=function(){var a=function(){function m(n){(0,h.Z)(this,m),this.cvService=n,this.amountTypeList=[],this.amountUnitList=[],this.typeControl=new o.NI("",o.kI.required),this.averageControl=new o.NI(""),this.lowControl=new o.NI(""),this.highControl=new o.NI(""),this.lowLimitControl=new o.NI(""),this.highLimitControl=new o.NI(""),this.unitsControl=new o.NI(""),this.nonNumericValueControl=new o.NI("")}return(0,C.Z)(m,[{key:"ngOnInit",value:function(){this.getVocabularies()}},{key:"substanceAmount",get:function(){return this.privateSubstanceAmount},set:function(u){var i=this;null!=u&&(this.privateSubstanceAmount=u,this.typeControl.setValue(this.privateSubstanceAmount.type),this.typeControl.valueChanges.subscribe(function(e){i.privateSubstanceAmount.type=e}),this.averageControl.setValue(this.privateSubstanceAmount.average),this.averageControl.valueChanges.subscribe(function(e){(null===e||1===e.length&&e.match(/[a-z]/i))&&i.averageControl.setValue(""),i.privateSubstanceAmount.average=e}),this.lowControl.setValue(this.privateSubstanceAmount.low),this.lowControl.valueChanges.subscribe(function(e){(null===e||1===e.length&&e.match(/[a-z]/i))&&i.lowControl.setValue(""),i.privateSubstanceAmount.low=e}),this.highControl.setValue(this.privateSubstanceAmount.high),this.highControl.valueChanges.subscribe(function(e){(null===e||1===e.length&&e.match(/[a-z]/i))&&i.highControl.setValue(""),i.privateSubstanceAmount.high=e}),this.lowLimitControl.setValue(this.privateSubstanceAmount.lowLimit),this.lowLimitControl.valueChanges.subscribe(function(e){(null===e||1===e.length&&e.match(/[a-z]/i))&&i.lowLimitControl.setValue(""),i.privateSubstanceAmount.lowLimit=e}),this.highLimitControl.setValue(this.privateSubstanceAmount.highLimit),this.highLimitControl.valueChanges.subscribe(function(e){(null===e||1===e.length&&e.match(/[a-z]/i))&&i.highLimitControl.setValue(""),i.privateSubstanceAmount.highLimit=e}),this.unitsControl.setValue(this.privateSubstanceAmount.units),this.unitsControl.valueChanges.subscribe(function(e){i.privateSubstanceAmount.units=e}),this.nonNumericValueControl.setValue(this.privateSubstanceAmount.nonNumericValue),this.nonNumericValueControl.valueChanges.subscribe(function(e){i.privateSubstanceAmount.nonNumericValue=e}))}},{key:"updateAccess",value:function(u){this.privateSubstanceAmount.access=u,this.substanceAmount.access=u}},{key:"updateType",value:function(u){var i=this;setTimeout(function(){i.typeControl.setValue(u.value)}),this.privateSubstanceAmount.type=u.value}},{key:"updateUnits",value:function(u){var i=this;setTimeout(function(){i.unitsControl.setValue(u.value)}),this.privateSubstanceAmount.units=u.value}},{key:"getVocabularies",value:function(){var u=this;this.cvService.getDomainVocabulary("AMOUNT_TYPE","AMOUNT_UNIT").subscribe(function(i){u.amountTypeList=i.AMOUNT_TYPE.list,u.amountUnitList=i.AMOUNT_UNIT.list})}},{key:"inCV",value:function(u,i){return u.some(function(e){return i===e.value})}}]),m}();return a.\u0275fac=function(n){return new(n||a)(t.Y36(p.I))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-amount-form"]],inputs:{substanceAmount:"substanceAmount"},decls:3,vars:2,consts:[[1,"access"],[1,"right",3,"access","accessOut"],["class","amount-form",4,"ngIf"],[1,"amount-form"],[1,"form-row"],[1,"other-container"],[1,"amount-type"],[3,"formControl"],[3,"value"],[1,"deselect"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["value","other"],["class","custom",4,"ngIf"],[1,"amount-average"],["type","number","matInput","","placeholder","Average",3,"formControl"],[1,"low"],["type","number","matInput","","placeholder","Low",3,"formControl"],[1,"high"],["type","number","matInput","","placeholder","High",3,"formControl"],[1,"low-limit"],["type","number","matInput","","placeholder","Low Limit",3,"formControl"],[1,"high-limit"],["type","number","matInput","","placeholder","High Limit",3,"formControl"],[1,"amount-units"],[1,"non-numeric-value"],["matInput","","placeholder","Non-numeric Value",3,"formControl"],[1,"custom"],["matInput","","placeholder","Custom value","name","custom",3,"focusout"]],template:function(n,u){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"app-access-manager",1),t.NdJ("accessOut",function(e){return u.updateAccess(e)}),t.qZA(),t.qZA(),t.YNc(2,P,43,16,"form",2)),2&n&&(t.xp6(1),t.Q6J("access",u.substanceAmount.access),t.xp6(1),t.Q6J("ngIf",u.substanceAmount))},directives:[v.h,g.O5,o._Y,o.JL,o.F,c.KE,c.hX,_.gD,o.JJ,o.oH,l.ey,g.sg,r.Nt,o.wV,o.Fj],styles:[".form-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end}.form-row[_ngcontent-%COMP%]   .amount-type[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount-average[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .amount-units[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .non-numeric-value[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1;padding-right:15px}.form-row[_ngcontent-%COMP%]   .amount-type[_ngcontent-%COMP%]{width:125px}.form-row[_ngcontent-%COMP%]   .amount-units[_ngcontent-%COMP%]{width:110px}.form-row[_ngcontent-%COMP%]   .amount-average[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .low-limit[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   .high-limit[_ngcontent-%COMP%]{width:70px}.form-row[_ngcontent-%COMP%]   .non-numeric-value[_ngcontent-%COMP%]{width:90px}.form-row[_ngcontent-%COMP%]   .jurisdiction[_ngcontent-%COMP%]{-ms-flex-positive:1;flex-grow:1}.risen[_ngcontent-%COMP%]{margin-top:-15px}.deselect[_ngcontent-%COMP%]{color:#00000080}.other-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.custom[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.35)}.amount-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row}.right[_ngcontent-%COMP%]{float:right}"]}),a}()}}]);
//# sourceMappingURL=7164.2fe768734fb5f42d.js.map